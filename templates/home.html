{% extends 'base.html' %}

{% block head %}
<script defer type=text/javascript src="{{url_for('static', filename='js/home.js') }}"></script>
<script src="https://cdn.jsdelivr.net/npm/vue@2"></script> 
<style>
    [v-cloak] { display: none }
</style>
{% endblock %}

{% block content %}

<div id="app">

    <h3>Welcome to Wikipedia Speedruns!</h3>

        <p><strong>New Prompts Out!</strong></p>

    <p>Goal of this game is simple. Try to get to one wikipedia page to another as fast as possible by clicking on the links in the page. Once you finish each prompt, you will get a chance to submit your time to the leaderboard!</p>
    <p>A few simple rules apply:<br>
        <ul>
            <li>Any link shown on the page is fair game.</li>
            <li>DO NOT use word search or find on your browser!</li>
            <li>Live with your mistakes. Don't even bother trying the back page button, you will just be forced to restart.</li>
            <li>Luck is king, so put on your lucky hat and lucky socks!</li>
        </ul>
    </p>

    <p>Click <a href="/latest">here</a> to try the latest prompt, starts immediately after click!</p>
    <p>Click <a href="/random">here</a> to try a random prompt, starts immediately after click!</p>
    
    <p>Here are links to all available prompts:</p>
    <table class="table">
        <thead>
            <th scope="col">Prompt #</th>
            <th scope="col">Starting Article</th>
        </thead>
        <tbody id="publicPrompts">
            <tr v-for="prompt in prompts" v-cloak>
                <td><a v-bind:href="'/play/' + prompt.prompt_id">[[prompt.prompt_id]]</a></td>
                <td>[[prompt.start]]</td>
            </tr>
        </tbody>
    </table>

    <table class="table" style="display: none" id="ratedPrompts">
        <thead>
            <th>Prompt #</th>
            <th>Starting Article</th>
        </thead>
    </table>


    <p><strong> Top 25 players: </strong> (Note rating system is still experimental) </p>

    <table class="table">
        <thead>
            <th>#</th>
            <th>Username</th> 
            <th>Rating</th> 
        </thead>
        <tbody>
            <tr v-for="(user, index) in topUsers" v-cloak>
                <td>[[index + 1]]</td>
                <td>[[user.username]]</td>
                <td>[[user.rating]]</td>
            </tr>
        </tbody>
    </table>



    <p style="margin-top:50px;">Created by <a href="https://danqian.net">Daniel Qian</a> and <a href="https://mliu59.github.io/">Miles Liu</a></p>
</div>
{% endblock %}
